<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„... | Yemen Brand</title>
    <meta name="description" content="ÙˆÙƒØ§Ù„Ø© ÙŠÙ…Ù† Ø¨Ø±Ø§Ù†Ø¯ Ù„Ù„Ø­Ù„ÙˆÙ„ Ø§Ù„Ø±Ù‚Ù…ÙŠØ© ÙˆØªØµÙ…ÙŠÙ… Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹">
    
    <meta property="og:title" content="Yemen Brand">
    <meta property="og:description" content="ÙˆÙƒØ§Ù„Ø© ÙŠÙ…Ù† Ø¨Ø±Ø§Ù†Ø¯ Ù„Ù„Ø­Ù„ÙˆÙ„ Ø§Ù„Ø±Ù‚Ù…ÙŠØ©">
    <meta property="og:image" content="/images/logo.png">
    <meta property="og:url" content="">
    <meta property="og:type" content="article">

    <link rel="stylesheet" href="style.css">
</head>
<body>

    <header>
        <div class="container">
            <div class="logo">
                <a href="index.html">
                    <img src="/images/logo.png" alt="Yemen Brand" style="max-height: 50px; vertical-align: middle;">
                </a>
            </div>
            <nav>
                <a href="index.html">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
                <a href="index.html#services">Ø®Ø¯Ù…Ø§ØªÙ†Ø§</a>
            </nav>
        </div>
    </header>

    <main class="container article-page" style="padding: 2rem 1rem; max-width: 800px; margin: 0 auto;">
        <div id="article-content">
            <p style="text-align:center; padding: 2rem;">â³ Ø¬Ø§Ø±ÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ù…Ù‚Ø§Ù„...</p>
        </div>
    </main>

    <footer>
        <p>Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© &copy; 2024 Yemen Brand</p>
    </footer>

    <script>
        function getQueryParam(param) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(param);
        }

        async function loadArticle() {
            const slug = getQueryParam('id');
            
            if (!slug) {
                // Ø¥Ø°Ø§ Ù„Ù… ÙŠÙˆØ¬Ø¯ Ù…Ø¹Ø±Ù Ù„Ù„Ù…Ù‚Ø§Ù„ØŒ Ø¹Ø¯ Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
                window.location.href = 'index.html';
                return;
            }

            try {
                // Ù…Ø­Ø§ÙˆÙ„Ø© Ø¬Ù„Ø¨ Ù…Ù„Ù Ø§Ù„Ù€ JSON
                const response = await fetch(`/content/blog/${slug}.json`);

                if (!response.ok) throw new Error('Ø§Ù„Ù…Ù‚Ø§Ù„ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯');

                const data = await response.json();

                // 1. ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù€ SEO ÙˆØ§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ†
                document.title = `${data.title} | Yemen Brand`;
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØµÙ ÙˆØ§Ù„ØµÙˆØ±Ø© Ù„Ù„Ù…Ø´Ø§Ø±ÙƒØ©
                const updateMeta = (selector, value) => {
                    const el = document.querySelector(selector);
                    if (el && value) el.setAttribute('content', value);
                };

                updateMeta('meta[name="description"]', data.description || data.body.substring(0, 120));
                updateMeta('meta[property="og:title"]', data.title);
                updateMeta('meta[property="og:description"]', data.description || data.body.substring(0, 120));
                updateMeta('meta[property="og:image"]', data.thumbnail);
                updateMeta('meta[property="og:url"]', window.location.href);

                // 2. Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ ÙÙŠ Ø§Ù„ØµÙØ­Ø©
                const container = document.getElementById('article-content');
                container.innerHTML = `
                    <article class="single-article">
                        ${data.thumbnail ? `<img src="${data.thumbnail}" alt="${data.title}" style="width:100%; border-radius:10px; margin-bottom:20px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">` : ''}
                        <h1 style="color:#002366; margin-bottom:10px; font-size: 2rem;">${data.title}</h1>
                        <div class="meta" style="color:#666; font-size:0.9rem; margin-bottom:20px; border-bottom: 1px solid #eee; padding-bottom: 10px;">
                            <span>ğŸ“… ${new Date(data.date).toLocaleDateString('ar-YE')}</span>
                        </div>
                        <div class="body-text" style="line-height:1.8; font-size:1.1rem; color: #333;">
                            ${data.body} 
                        </div>
                    </article>
                    <div style="margin-top: 3rem; text-align: center;">
                        <a href="index.html" style="background: #002366; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px;">Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
                    </div>
                `;

            } catch (error) {
                console.error(error);
                document.getElementById('article-content').innerHTML = `
                    <div style="text-align:center; padding:50px;">
                        <h2>Ø¹Ø°Ø±Ø§Ù‹ØŒ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù‚Ø§Ù„ ğŸ˜”</h2>
                        <p>Ù‚Ø¯ ÙŠÙƒÙˆÙ† Ø§Ù„Ø±Ø§Ø¨Ø· Ø®Ø§Ø·Ø¦Ø§Ù‹ Ø£Ùˆ ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ù‚Ø§Ù„.</p>
                        <br>
                        <a href="index.html" style="text-decoration: underline;">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
                    </div>
                `;
            }
        }

        loadArticle();
    </script>
</body>
</html>
