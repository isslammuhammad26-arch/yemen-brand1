<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„... | Yemen Brand</title>
    <meta name="description" content="ÙˆÙƒØ§Ù„Ø© ÙŠÙ…Ù† Ø¨Ø±Ø§Ù†Ø¯ Ù„Ù„Ø­Ù„ÙˆÙ„ Ø§Ù„Ø±Ù‚Ù…ÙŠØ© ÙˆØªØµÙ…ÙŠÙ… Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹">
    
    <meta property="og:title" content="Yemen Brand">
    <meta property="og:description" content="ÙˆÙƒØ§Ù„Ø© ÙŠÙ…Ù† Ø¨Ø±Ø§Ù†Ø¯ Ù„Ù„Ø­Ù„ÙˆÙ„ Ø§Ù„Ø±Ù‚Ù…ÙŠØ©">
    <meta property="og:image" content="/images/logo.png"> <meta property="og:url" content="">
    <meta property="og:type" content="article">

    <link rel="stylesheet" href="style.css">
</head>
<body>

    <header>
<div class="logo">
    <a href="index.html">
        <img src="/images/logo.png" alt="Yemen Brand" style="max-height: 50px;">
    </a>
</div>
        <nav>
            <a href="index.html">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
            <a href="index.html#services">Ø®Ø¯Ù…Ø§ØªÙ†Ø§</a>
        </nav>
    </header>

    <main class="container" style="padding: 2rem; max-width: 800px; margin: 0 auto;">
        <div id="article-content">
            <p style="text-align:center;">Ø¬Ø§Ø±ÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ù…Ù‚Ø§Ù„...</p>
        </div>
    </main>

    <footer>
        <p>Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© &copy; 2024 Yemen Brand</p>
    </footer>

    <script>
        // Ø¯Ø§Ù„Ø© Ù„Ø¬Ù„Ø¨ Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ù…Ù† Ø§Ù„Ø±Ø§Ø¨Ø· (Ù…Ø«Ù„ ?id=my-first-post)
        function getQueryParam(param) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(param);
        }

        async function loadArticle() {
            const slug = getQueryParam('id');
            
            // Ø¥Ø°Ø§ Ù„Ù… ÙŠÙˆØ¬Ø¯ Ù…Ø¹Ø±Ù Ù„Ù„Ù…Ù‚Ø§Ù„ØŒ Ù†ÙˆØ¬Ù‡Ù‡ Ù„Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ø£Ùˆ ØµÙØ­Ø© Ø®Ø·Ø£
            if (!slug) {
                window.location.href = 'index.html';
                return;
            }

            try {
                // Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù‚Ø§Ù„ (ØªØ£ÙƒØ¯ Ø£Ù† Ù…Ø³Ø§Ø± Ù…Ù„ÙØ§Øª JSON ÙÙŠ Ù…Ø´Ø±ÙˆØ¹Ùƒ ØµØ­ÙŠØ­)
                // Decap CMS Ø¹Ø§Ø¯Ø© ÙŠØ­ÙØ¸Ù‡Ø§ ÙÙŠ Ù…Ø¬Ù„Ø¯ content Ø£Ùˆ _posts
                const response = await fetch(`/content/blog/${slug}.json`);

                if (!response.ok) throw new Error('Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù‚Ø§Ù„');

                const data = await response.json();

                // --- ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª SEO (Ù‡Ø°Ø§ Ù…Ø§ ÙŠÙ„ØªÙ‚Ø·Ù‡ Netlify Prerender) ---
                document.title = `${data.title} | Yemen Brand`;
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØµÙ
                document.querySelector('meta[name="description"]').setAttribute('content', data.description || data.body.substring(0, 120));
                
                // ØªØ­Ø¯ÙŠØ« ØµÙˆØ± ÙˆØ¹Ù†Ø§ÙˆÙŠÙ† ÙˆØ§ØªØ³Ø§Ø¨ (OG Tags)
                document.querySelector('meta[property="og:title"]').setAttribute('content', data.title);
                document.querySelector('meta[property="og:description"]').setAttribute('content', data.description || data.body.substring(0, 120));
                document.querySelector('meta[property="og:image"]').setAttribute('content', data.thumbnail);
                document.querySelector('meta[property="og:url"]').setAttribute('content', window.location.href);

                // --- Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ ÙÙŠ Ø§Ù„ØµÙØ­Ø© ---
                const container = document.getElementById('article-content');
                container.innerHTML = `
                    <article class="single-article">
                        <img src="${data.thumbnail}" alt="${data.title}" style="width:100%; border-radius:10px; margin-bottom:20px;">
                        <h1 style="color:#002366; margin-bottom:10px;">${data.title}</h1>
                        <div class="meta" style="color:#666; font-size:0.9rem; margin-bottom:20px;">
                            <span>ğŸ“… ${new Date(data.date).toLocaleDateString('ar-YE')}</span>
                        </div>
                        <div class="body-text" style="line-height:1.8; font-size:1.1rem;">
                            ${data.body} 
                        </div>
                    </article>
                `;

            } catch (error) {
                console.error(error);
                document.getElementById('article-content').innerHTML = `
                    <div style="text-align:center; padding:50px;">
                        <h2>Ø¹Ø°Ø±Ø§Ù‹ØŒ Ø§Ù„Ù…Ù‚Ø§Ù„ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯ ğŸ˜”</h2>
                        <a href="index.html" class="btn">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
                    </div>
                `;
            }
        }

        // ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¯Ø§Ù„Ø©
        loadArticle();
    </script>
</body>
</html>

